(this["webpackJsonpfood-tracker"]=this["webpackJsonpfood-tracker"]||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a(1),s=a.n(n),c=a(15),o=a.n(c),r=a(3),l=function(e){var t=e.updateDailyCalTotState,a=e.updateEatingWindowState,n=e.updateStartedState;return Object(i.jsx)("div",{className:"container user-input-comp-container",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("form",{className:"col s12",autoComplete:"off",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"input-field col s6",children:[Object(i.jsx)("i",{className:"material-icons prefix",children:"local_pizza"}),Object(i.jsx)("input",{id:"icon_food",type:"text",className:"validate",name:"calorie-goal"}),Object(i.jsx)("label",{htmlFor:"icon_food",children:"Daily Calorie Goal"})]}),Object(i.jsxs)("div",{className:"input-field col s6",children:[Object(i.jsx)("i",{className:"material-icons prefix",children:"access_time"}),Object(i.jsx)("input",{id:"icon_clock",type:"tel",className:"validate",name:"window-length"}),Object(i.jsx)("label",{htmlFor:"icon_clock",children:"Eating Window Length"})]})]}),Object(i.jsxs)("button",{className:"btn waves-effect waves-light col offset-s5",type:"submit",name:"action",onClick:function(e){e.preventDefault();var i=document.getElementById("icon_food").value,s=document.getElementById("icon_clock").value;i.includes(",")?window.M.toast({html:"Refrain from using a comma for numbers in the 1000s"}):i.includes(".")||isNaN(i)?window.M.toast({html:"Enter an integer value"}):parseInt(i)<0?window.M.toast({html:"Enter an integer greater than 0"}):""===i?window.M.toast({html:"Enter calorie goal"}):/^\d+$/.test(s)?(t(i),a(s),n()):window.M.toast({html:"Enter integer value eating window"})},children:["Submit",Object(i.jsx)("i",{className:"material-icons right",children:"send"})]})]})})})},d=function(e){var t=e.dailyCalTot,a=e.timeSinceFirstMeal,n=e.started,s=e.endTime,c=e.foodListArr,o=e.eatingWindow,r=e.curTime,l="";if(s){var d=s.getHours(),u=s.getMinutes(),j=d>=12?"pm":"am";l=(d=(d%=12)||12)+":"+(u=u<10?"0"+u:u)+j}return n&&Object(i.jsx)("div",{className:"container remaining-comp-container",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col s12",children:Object(i.jsx)("div",{className:"card teal lighten-1",children:Object(i.jsxs)("div",{className:"card-content white-text center",children:[c.length>=1&&Object(i.jsxs)("h4",{children:["Finish Eating By",Object(i.jsxs)("span",{className:r>s?"red-text text-darken-2":"",children:["  ",l]})]}),c.length>=2&&Object(i.jsxs)("h4",{children:["Eating Window:",Object(i.jsxs)("span",{className:parseFloat(o)<parseFloat(a)?"red-text text-darken-2":"",children:["  ",a]})]}),Object(i.jsxs)("h4",{children:["Calories Remaining:",Object(i.jsxs)("span",{className:parseInt(t)<0?"red-text text-darken-2":"",children:["  ",t]})]})]})})})})})},u=function(e){return e.started&&Object(i.jsx)("div",{className:"add-food-comp-container center",children:Object(i.jsx)("a",{className:"waves-effect waves-light btn modal-trigger",href:"#add-food-item-modal",children:"Add Food Item"})})},j=a(6),m=a.n(j),h=function(e){var t=e.foodListArr;return e.started&&Object(i.jsx)("div",{className:"container food-list-comp-container",children:Object(i.jsx)("ul",{className:"collection with-header",children:t.map((function(e,t){return Object(i.jsx)("li",{className:"collection-item center",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col s4",children:Object(i.jsx)("h6",{children:e[0]})}),Object(i.jsx)("div",{className:"col s4",children:Object(i.jsx)("h6",{children:e[1]})}),Object(i.jsx)("div",{className:"col s4",children:Object(i.jsx)("h6",{children:e[2]})})]})},t)}))})})};h.protoTypes={foodListArr:m.a.array.isRequired,started:m.a.bool.isRequired};var f=h,b=a(4),p=a.n(b),O={width:"50%",height:"60%"},x=function(e){var t=e.foodListArr,a=e.updateFoodListArrState,s=e.dailyCalTot,c=e.updateDailyCalTotState,o=e.updateEndTimeState,l=e.eatingWindow,d=e.startTime,u=e.updateStartTimeState,j=e.updateTimeSinceFirstMealState,m=e.updateCurTimeState,h=Object(n.useState)(""),f=Object(r.a)(h,2),b=f[0],x=f[1],g=Object(n.useState)(""),v=Object(r.a)(g,2),S=v[0],w=v[1],N=Object(n.useState)(""),T=Object(r.a)(N,2),y=T[0],C=T[1];return Object(i.jsxs)("div",{id:"add-food-item-modal",className:"modal",style:O,children:[Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("input",{type:"text",name:"food",value:b,onChange:function(e){return x(e.target.value)},autoComplete:"off"}),Object(i.jsx)("label",{htmlFor:"food",className:"active",children:"Food Item"})]})}),Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("input",{type:"text",name:"serving",value:S,onChange:function(e){return w(e.target.value)},autoComplete:"off"}),Object(i.jsx)("label",{htmlFor:"serving",className:"active",children:"Serving Size"})]})}),Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("input",{type:"text",name:"calories",value:y,onChange:function(e){return C(e.target.value)},autoComplete:"off"}),Object(i.jsx)("label",{htmlFor:"calories",className:"active",children:"Calories"})]})})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("a",{href:"#!",onClick:function(){if(""===b)window.M.toast({html:"Enter food item"});else if(""===S)window.M.toast({html:"Enter serving size"});else if(/^\d+$/.test(y)){p.a.get("https://api.nal.usda.gov/fdc/v1/foods/search?api_key=HcOenwa6MFJRacTk7hJdn8Spf1Zud9caZWoESvZ9&query=".concat(b,"&pageSize=1")).then((function(e){return console.log(e.data.foods[0].foodNutrients)}));var e=[b,S,y],i=t.slice().concat([e]),n=parseInt(s)-parseInt(y),r=new Date,h=r.getHours()+parseInt(l),f=new Date;if(f.setHours(h),a(i),c(n.toString()),m(r),0===t.length&&(o(f),u(r),p.a.post("api/remaining",{startTime:r,eatingWindow:parseInt(l),calorieGoal:parseInt(s)}).then((function(e){return console.log(e.data)}))),t.length>0)j(((r-d)/1e3/60/60).toFixed(2)+" hours");p.a.post("api/foods",{item:b,quantity:S,calories:y}).then((function(e){return console.log(e.data)}))}else window.M.toast({html:"Enter integer value calories"})},className:"modal-close waves-effect waves-green btn",children:"Add"})}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("a",{href:"https://fdc.nal.usda.gov/index.html",rel:"noreferrer",target:"_blank",className:"waves-effect waves-light btn",children:"Not Sure?"})})]})},g=function(e){var t=e.started,a=e.updateStartedState,n=e.updateDailyCalTotState,s=e.updateEatingWindowState,c=e.updateFoodListArrState,o=e.updateEndTimeState,r=e.updateStartTimeState,l=e.updateCurTimeState,d=e.updateTimeSinceFirstMealState;return t&&Object(i.jsx)("div",{className:"next-day-comp-container center",children:Object(i.jsx)("button",{className:"waves-effect waves-light btn",onClick:function(e){e.preventDefault(),a(),n("0"),s("0"),c([]),o(),r(),l(),d(""),p.a.delete("api/foods").then((function(e){return console.log(e.data)})),p.a.delete("api/remaining").then((function(e){return console.log(e.data)}))},children:"Start New Day"})})},v=(a(40),function(){var e=Object(n.useState)("0"),t=Object(r.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)("0"),o=Object(r.a)(c,2),j=o[0],m=o[1],h=Object(n.useState)([]),b=Object(r.a)(h,2),O=b[0],v=b[1],S=Object(n.useState)(!1),w=Object(r.a)(S,2),N=w[0],T=w[1],y=Object(n.useState)(),C=Object(r.a)(y,2),F=C[0],E=C[1],D=Object(n.useState)(),k=Object(r.a)(D,2),M=k[0],A=k[1],I=Object(n.useState)(),L=Object(r.a)(I,2),W=L[0],_=L[1],H=Object(n.useState)(""),q=Object(r.a)(H,2),z=q[0],B=q[1];Object(n.useEffect)((function(){window.M.AutoInit(),Promise.all([p.a.get("api/foods"),p.a.get("api/remaining")]).then((function(e){if(e[0].data.length>0){var t=e[0].data,a=e[1].data,i=[];Object.keys(t).forEach((function(e){i.push([t[e].item,t[e].quantity,t[e].calories])})),G(i),P();var n=0;Object.keys(t).forEach((function(e){n+=t[e].calories})),R((a[0].calorieGoal-n).toString()),J(a[0].eatingWindow.toString()),Q(new Date),$(new Date(a[0].startTime));var s=new Date,c=Date.parse(s),o=new Date(a[0].startTime),r=Date.parse(o);K(((c-r)/1e3/60/60).toFixed(2)+" hours");var l=o.getHours()+a[0].eatingWindow,d=new Date(a[0].startTime);d.setHours(l),Z(d)}}))}),[]);var R=function(e){s(e)},J=function(e){m(e)},G=function(e){v(e)},P=function(){T(!N)},Z=function(e){E(e)},$=function(e){A(e)},K=function(e){B(e)},Q=function(e){_(e)};return Object(i.jsxs)("div",{className:"App",children:[!N&&Object(i.jsx)(l,{updateDailyCalTotState:R,updateEatingWindowState:J,updateStartedState:P}),Object(i.jsx)(d,{dailyCalTot:a,timeSinceFirstMeal:z,started:N,endTime:F,foodListArr:O,eatingWindow:j,curTime:W,startTime:M}),Object(i.jsx)(u,{started:N}),Object(i.jsx)(x,{foodListArr:O,updateFoodListArrState:G,updateDailyCalTotState:R,dailyCalTot:a,updateEndTimeState:Z,eatingWindow:j,startTime:M,updateStartTimeState:$,updateTimeSinceFirstMealState:K,updateCurTimeState:Q}),Object(i.jsx)(f,{foodListArr:O,started:N}),Object(i.jsx)(g,{started:N,updateStartedState:P,updateDailyCalTotState:R,updateEatingWindowState:J,updateFoodListArrState:G,updateEndTimeState:Z,updateStartTimeState:$,updateCurTimeState:Q,updateTimeSinceFirstMealState:K})]})}),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,42)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),s(e),c(e)}))};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),S()}},[[41,1,2]]]);
//# sourceMappingURL=main.5dad1918.chunk.js.map